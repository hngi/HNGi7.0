<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HNG</title>
	<meta name="description" content="FAQ page for HNG6 Page">
	<link rel="apple-touch-icon" href="./images/brand-logo.png">
    <meta name="theme-color" content="#00AEFF">
    <link rel="icon"  href="./images/">
    <link rel="stylesheet" href="./stylesheet.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>

<body id="faq-page">
    <header>
        <div class="nav-cover">
            <img src="./images/brand-logo.png" alt="HNG6 Logo. It stands for changing the world. One intern at a time"  id="logo">
            <nav>
                <ul>
                    <li class="nav-item">
                        <a href="" class="nav-item-link">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-item-link">HNG6</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-item-link">Mentors</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-item-link">Contacts</a>
                    </li>
                    <li class="nav-item join-hng">
                        <a href="" class="nav-item-link">Join HNG</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
	<main>
        <section id="faq">
            <div class="text-center">
                <h1>Frequently Asked Questions</h1>
                <p>Here are some of the most frequently asked questions on HNG 7.0</p>
            </div>
            <article>
                <div id="faq-container"></div>
                <div id="faqForm-container">
                    <form action="">
                        <p class="form-title">Not a Frequently Asked Question?<br>Contact us below</p>
                        <label for="faqFormName" class="field">
                            <input id="faqFormName" type="text" placeholder="Name" autocomplete="name" required>
                        </label>
                        <label for="faqFormEmail" class="field">
                            <input id="faqFormEmail" type="email" placeholder="Email" autocomplete="email" required>
                        </label>
                        <label for="faqFormSubject" class="field">
                            <input id="faqFormSubject" type="text" placeholder="Subject" required>
                        </label>
                        <label for="faqFormMsg" class="field">
                            <textarea name="faqFormMsg" id="faqFormMsg" placeholder="Write a message" required></textarea>
                        </label>
                        <input id="submitFaqForm" type="submit" value="send message">
                    </form>
                </div>
            </article>
        </section>
    </main>
    <footer>
        <div class="logo-container">
            <img src="./images/brand-logo.png" alt="HNG6 Logo. It stands for changing the world. One intern at a time" id="footerLogo">
        </div>
        <div class="footerWidgets">
            <div class="footerWidget-container">
                <p class="footerWidget-title">Quick Links</p>
                <ul class="footerWidget-links-list quick-links">
                    <li class="footerWidget-links">
                        <a href="">Join HNG</a>
                    </li>
                    <li class="footerWidget-links">
                        <a href="">About HNG</a>
                    </li>
                    <li class="footerWidget-links">
                        <a href="">Become a Sponsor</a>
                    </li>
                    <li class="footerWidget-links">
                        <a href="">Signup as a mentor</a>
                    </li>
                </ul>  
            </div>
            <div class="footerWidget-container">
                <p class="footerWidget-title">Contact Us</p>
                <ul class="footerWidget-links-list">
                    <li class="footerWidget-links">
                        <p>
                            <strong>Phone:</strong>
                            <a title="Call HNG" href="tel:+2348123456789">+234 (0) 812 345 6789</a>
                        </p>
                    </li>
                    <li class="footerWidget-links">
                        <p>
                            <strong>Email:</strong><a title="Email HNG" href="mailto:interns@hng.tech">interns@hng.tech</a>
                        </p>
                    </li>
                </ul> 
            </div>
            <div class="footerWidget-container">
                <p class="footerWidget-title">Office Address</p>
                <address>
                    3 Birrel Avenue<br> 
                    Sabo,Yaba,<br> 
                    Lagos State.
                </address>
            </div>
            <div class="footerWidget-container">
                <p class="footerWidget-title">Follow us</p>
                <ul class="footerWidget-links-list social-media-links">
                    <li class="footerWidget-links">
                        <a href="" target="_blank" title="Follow HNG on Twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </li>
                    <li class="footerWidget-links">
                        <a href="" target="_blank" title="Follow HNG on Facebook">
                            <i class="fab fa-facebook-square"></i>
                        </a>
                    </li>
                    <li class="footerWidget-links">
                        <a href="" target="_blank" title="Follow HNG on Dribble">
                            <i class="fab fa-dribbble"></i>
                        </a>
                    </li>
                </ul> 
            </div>
        </div>
        <p class="footer-copyright">&copy; 2019, HNG Internship. All rights reserved.</p>
    </footer>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
	const getFaqData = () =>{
		//Fetch data from, for now a json
		//Then using promise to complete other actions
		fetch('/data/faq.json')
		  .then(res=>res.json())
		  .then(getFaqs)
		  .then(()=>{btnListener()})
		  .catch(err=> console.log(err));
	}

	const getFaqs = (data) =>{
		const faqs = data.faq;
		// console.log('faqs', faqs);
		makeFaqHTML(faqs);
	}

	const makeFaqHTML = (faqs) =>{
		const divFaq = document.querySelector('div#faq-container');
		const frag = document.createDocumentFragment(); //savin some performance cost with Fragment
		faqs.forEach(faq => {
			//Create Elements
			const div = document.createElement("div");
			const divAccText = document.createElement("div");
			const divAccoTitle = document.createElement("div");
			const p = document.createElement("p");
			const spanText = document.createElement("span");
			const imgIcon = document.createElement("img");

			//Adding classes
			div.classList.add('accordion-item');
            divAccoTitle.classList.add('accordion-item-title');
			p.classList.add('accordion-item-text');
			divAccText.classList.add('accordion-item-text-container');
			imgIcon.classList.add('btn-icon');
			spanText.classList.add('btn-text');

			spanText.innerHTML = faq.title;
			imgIcon.src = "./images/dashicons-arrow-down-alt2.png";
			p.innerHTML = faq.text;

			divAccoTitle.append(spanText);
			divAccoTitle.append(imgIcon);

			divAccText.append(p);

			div.append(divAccoTitle);
			div.append(divAccText);

			frag.append(div);
		});

		//Now append to FAQ div
		divFaq.append(frag);
	}

	const btnListener = () =>{
		$("div.accordion-item-title").click(function(){
			// ES6 class doesnt work with jQ
			// console.log($(this));
			
			$(this).next().toggle("slow");
			if($(this).children(".btn-icon").hasClass("open-accordion")){
				$(this).children(".btn-icon").removeClass("open-accordion");
			}else{
				$(this).children(".btn-icon").addClass("open-accordion");
			}
		})
	}

	document.addEventListener("DOMContentLoaded", () =>{
		getFaqData();
	});
</script>
</html>